---
const projects = [
  {
    title: "Basketball Training app",
    description:
      "Una web interactiva que lleva en tiempo real registro de mejoras en el tiro, ademas de rutinas personalizadas, recomendación de calzado por posición, etc.",
    technologies: ["Next.js", "TypeScript", "HTML", "Tailwind CSS", "Prisma", "Express"],
    image: "/images/skills/a.webp",
    githubUrl: "https://github.com/imasan06/Proyects.git",
    liveUrl: "https://proyects-jeuv.vercel.app/",
  },
  {
    title: "Arkanoid Game",
    description:
      "Un muy sencillo juego clon de arkanoid, fue de mis primeras practicas con JavaScript puro.",
    technologies: ["HTML", "CSS", "JavaScript"],
    image: "/images/skills/arkanoid.webp",
    githubUrl: "https://github.com/imasan06/Arkanoid",
    liveUrl: "https://arkanoid-rho.vercel.app/",
  },
  {
    title: "Calculator",
    description:
      "Una calculadora hecha con HTML, CSS y Js.",
    technologies: ["HTML", "CSS", "JavaScript"],
    image: "/images/skills/calc.webp",
    githubUrl: "https://github.com/imasan06/Calculator",
    liveUrl: "https://calculator-iota-one-11.vercel.app/",
  },
  {
    title: "ToDo-List",
    description:
      "Un organizador de tareas interativo hecho con HTML, CSS y JavaScript, tambien uno de los primeros proyectos hechos con JS.",
    technologies: ["HTML", "CSS", "JavaScript"],
    image: "/images/skills/todo.webp",
    githubUrl: "https://github.com/imasan06/TodoList",
    liveUrl: "https://todo-list-alpha-ten-12.vercel.app/",
  },
 
];
---

<section id="projects" class="py-20">
  <div class="container mx-auto px-4">
    <div class="mx-auto max-w-5xl">
      <h2 class="mb-12 text-center text-3xl font-bold text-white sm:text-4xl">Proyectos Destacados</h2>

      <div class="space-y-20">
        {projects.map((project, index) => (
          <div class="group relative overflow-hidden rounded-lg border border-slate-800 bg-slate-900/50 backdrop-blur-sm opacity-0 project-card" data-index={index}>
            <div class="grid gap-8 p-6 md:grid-cols-2 md:p-8">
              <div class="order-2 flex flex-col md:order-1">
                <h3 class="mb-2 text-2xl font-bold text-white">{project.title}</h3>

                <p class="mb-4 text-slate-300">{project.description}</p>

                <div class="mb-6 flex flex-wrap gap-2">
                  {project.technologies.map((tech) => (
                    <span class="rounded-full bg-slate-800 px-3 py-1 text-xs text-slate-200">
                      {tech}
                    </span>
                  ))}
                </div>

                <div class="mt-auto flex gap-4">
                  <a
                    href={project.githubUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center justify-center rounded-md border border-purple-500 bg-transparent px-3 py-1.5 text-sm font-medium text-purple-400 transition-colors hover:bg-purple-950 hover:text-purple-300"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                      <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                    Code
                  </a>
                  <a
                    href={project.liveUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center justify-center rounded-md border border-cyan-500 bg-transparent px-3 py-1.5 text-sm font-medium text-cyan-400 transition-colors hover:bg-cyan-950 hover:text-cyan-300"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                      <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                      <polyline points="15 3 21 3 21 9"></polyline>
                      <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                    Live Demo
                  </a>
                </div>
              </div>

              <div class="order-1 overflow-hidden rounded-lg md:order-2">
                <img
                  src={project.image || "/placeholder.svg"}
                  alt={project.title}
                  width={800}
                  height={600}
                  class="object-cover"
                />
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Queremos trabajar con HTMLElements
    const projectCards = document.querySelectorAll<HTMLElement>('.project-card');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Cast a HTMLElement para poder usar .style
          const card = entry.target as HTMLElement;
          const index = parseInt(card.getAttribute('data-index') ?? '0', 10);
          
          card.style.transition       = 'opacity 0.6s ease, transform 0.6s ease';
          card.style.transitionDelay  = `${index * 0.1}s`;
          card.style.transform        = 'translateY(0)';
          card.style.opacity          = '1';
          
          observer.unobserve(card);
        }
      });
    }, { threshold: 0.1 });
    
    projectCards.forEach(card => {
      card.style.transform = 'translateY(20px)';
      card.style.opacity   = '0';
      observer.observe(card);
    });
  });
</script>